<!DOCTYPE html>
<html lang="en">
<head>
  <title>Cricket Game</title>
  <style>
    body{
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Bat Ball Stump Game</h1>
  <!-- Simplified buttons just call playGame with user choice -->
  <button onclick="playGame('Bat')">Bat</button>
  <button onclick="playGame('Ball')">Ball</button>
  <button onclick="playGame('Stump')">Stump</button>
  
<script>

let computerChoice;

// Fixed generateComputerchoice function
function generateComputerchoice() {
  // Math.random() generates [0,1), so to cover 3 choices, use Math.random()*3 but check ranges from 0 to <1, >=1 to <2, >=2 to <3
  let randomNumber = Math.random() * 3;
  // Assign correctly to global variable computerChoice (was missing assignment in original: "computerChoice;" does nothing)
  if (randomNumber >= 0 && randomNumber < 1) {
    computerChoice = 'Bat';
  } else if (randomNumber >= 1 && randomNumber < 2) {
    computerChoice = 'Ball';
  } else {
    computerChoice = 'Stump';
  }
}

// Single function to handle all game logic, called by buttons
function playGame(userChoice) {
  generateComputerchoice();
  let resultMsg;
  
  // Correct 'computerchoicemsg' typo to 'computerChoice' in alerts
  if(userChoice === 'Bat') {
    if(computerChoice === 'Ball') {
      resultMsg = 'User won.';
    } else if (computerChoice === 'Bat') {
      resultMsg = `It's a tie`;
    } else if (computerChoice === 'Stump') {
      resultMsg = 'Computer has won';
    }
  } else if(userChoice === 'Ball') {
    if(computerChoice === 'Ball') {
      resultMsg = `It's a tie`;
    } else if (computerChoice === 'Bat') {
      resultMsg = 'Computer has won';
    } else if (computerChoice === 'Stump') {
      resultMsg = 'User won.';
    }
  } else if(userChoice === 'Stump') {
    if(computerChoice === 'Ball') {
      resultMsg = 'Computer has won';
    } else if (computerChoice === 'Bat') { 
      resultMsg = 'User won.';
    } else if (computerChoice === 'Stump') {
      resultMsg = `It's a tie`;
    }
  }
  
  alert(`You have chosen ${userChoice}. Computer chose ${computerChoice} and ${resultMsg}`);
}

</script>

</body>
</html>


